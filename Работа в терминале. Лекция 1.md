# Задание

1. С помощью базового файла конфигурации запустите Ubuntu 20.04 в VirtualBox посредством Vagrant:

	* Создайте директорию, в которой будут храниться конфигурационные файлы Vagrant. В ней выполните `vagrant init`. Замените содержимое Vagrantfile по умолчанию следующим:

		```bash
		Vagrant.configure("2") do |config|
			config.vm.box = "bento/ubuntu-20.04"
		end
		```

	* Выполнение в этой директории `vagrant up` установит провайдер VirtualBox для Vagrant, скачает необходимый образ и запустит виртуальную машину.

	* `vagrant suspend` выключит виртуальную машину с сохранением её состояния — т. е. при следующем `vagrant up` будут запущены все процессы внутри, которые работали на момент вызова suspend, `vagrant halt` выключит виртуальную машину штатным образом.
	
	Ответ
  
  ![Скриншот созданной ВМ](https://github.com/oleg-chumakov/devops-netology/blob/main/images/vagrant.JPG)

2. Изучите графический интерфейс VirtualBox, посмотрите, как выглядит виртуальная машина, которую создал для вас Vagrant, какие аппаратные ресурсы она выделила. Определите, какие ресурсы выделены по умолчанию.

Ответ: создал полностью из консоли на Ubuntu, нет графической интерфейса. Скриншот ресурсов:

![Скриншот созданной ВМ](https://github.com/oleg-chumakov/devops-netology/blob/main/images/resource.JPG)

3. Познакомьтесь с возможностями конфигурации VirtualBox через Vagrantfile: [документация](https://www.vagrantup.com/docs/providers/virtualbox/configuration.html). Изучите, как добавить оперативную память или ресурсы процессора виртуальной машине.

Ответ:

```
config.vm.provider "virtualbox" do |v|
  v.memory = 1024
  v.cpus = 2
end
```

4. Команда `vagrant ssh` из директории, в которой содержится Vagrantfile, позволит вам оказаться внутри виртуальной машины без дополнительных настроек. Попрактикуйтесь в выполнении обсуждаемых команд в терминале Ubuntu.

Ответ: подключение по ssh

![Подключение по ssh к созданной ВМ](https://github.com/oleg-chumakov/devops-netology/blob/main/images/ssh.JPG)

5. Изучите разделы `man bash`, почитайте о настройках самого bash:

    * какой переменной можно задать длину журнала `history`, и на какой строчке manual это описывается?

Ответ:

![HISTORY](https://github.com/oleg-chumakov/devops-netology/blob/main/images/history.JPG)

   * что делает директива `ignoreboth` в bash?

Ответ: Директива ignoreboth делает тоже самое что и директива ignorespace:ignoredups.
Если в файл ~/.bashrc добавить строку HISTCONTROL=ignoreboth или
HISTCONTROL=ignoreboth:erasedups в истории не будут сохраняться строки начинающиеся с символа пробел и дублирующиеся (совпадающие с последней выполненной) команды.
    
6. В каких сценариях использования применимы скобки `{}`, на какой строчке `man bash` это описано?

Ответ: в man bash не нашел. Из просторов интернета:
```
{} применяется для создания составных комманд, команды находящиеся в {} будут выполнены в контексте текущего процесса (терминала), и результаты их вызова будут сохранены в текущем контексте (можно задать функции имя и в последствии в данном терминале неоднократно вызывать её).
Команды выполненные в () будут исполнятся в дочернем процессе и после отработки удаляться из памяти.
```
7. С учётом ответа на предыдущий вопрос подумайте, как создать однократным вызовом `touch` 100 000 файлов. Получится ли аналогичным образом создать 300 000 файлов? Если нет, то объясните, почему.

Ответ:
```
touch {1..100000}
```
300 000 файлов создать не удасться, так как есть ограничение AGR_MAX - ограничение количества аргументов

9. В man bash поищите по `/\[\[`. Что делает конструкция `[[ -d /tmp ]]`?

Ответ: конструкция [[ ]] используется для проверки условий (if). -d Указать директорию. `[[ -d /tmp ]]`  - проверка существования директории

11. Сделайте так, чтобы в выводе команды `type -a bash` первым стояла запись с нестандартным путём, например, bash is... Используйте знания о просмотре существующих и создании новых переменных окружения, обратите внимание на переменную окружения PATH.

	```bash
	bash is /tmp/new_path_directory/bash
	bash is /usr/local/bin/bash
	bash is /bin/bash
	```

	Другие строки могут отличаться содержимым и порядком.
    В качестве ответа приведите команды, которые позволили вам добиться указанного вывода, или соответствующие скриншоты.
    
Ответ:
```
mkdir /tmp/new_path_directory
 cp /bin/bash /tmp/new_path_directory/
 PATH=/tmp/new_path_directory/:$PATH
```

10. Чем отличается планирование команд с помощью `batch` и `at`?

Ответ: batch однократно выполняет команды когда фактор загрузки системы ниже определённого уровня (по умолчанию 1.5).
at используется для выполнения команд в заданное время.